A = ...
  [0.0   0.0   0.0   1.0   0.0   0.0   0.0    0.0    0.0   0.0   0.0   0.0;...
   0.0   0.0   0.0   0.0   1.0   0.0   0.0    0.0    0.0   0.0   0.0   0.0;...
   0.0   0.0   0.0   0.0   0.0   1.0   0.0    0.0    0.0   0.0   0.0   0.0;...
   0.0   0.0   0.0   0.0   0.0   0.0   0.0   -9.81   0.0   0.0   0.0   0.0;...
   0.0   0.0   0.0   0.0   0.0   0.0   9.81   0.0    0.0   0.0   0.0   0.0;...
   0.0   0.0   0.0   0.0   0.0   0.0   0.0    0.0    0.0   0.0   0.0   0.0;...
   0.0   0.0   0.0   0.0   0.0   0.0   0.0    0.0    0.0   1.0   0.0   0.0;...
   0.0   0.0   0.0   0.0   0.0   0.0   0.0    0.0    0.0   0.0   1.0   0.0;...
   0.0   0.0   0.0   0.0   0.0   0.0   0.0    0.0    0.0   0.0   0.0   1.0;...
  -0.0  -0.0  -0.0  -0.0  -0.0  -0.0  -0.0   -0.0   -0.0  -0.0  -0.0  -0.0;...
  -0.0  -0.0  -0.0  -0.0  -0.0  -0.0  -0.0   -0.0   -0.0  -0.0  -0.0  -0.0;...
  -0.0  -0.0  -0.0  -0.0  -0.0  -0.0  -0.0   -0.0   -0.0  -0.0  -0.0  -0.0];

B = ...
   [0.0                    0.0                    0.0                    0.0
    0.0                    0.0                    0.0                    0.0
    0.0                    0.0                    0.0                    0.0
    0.0                    0.0                    0.0                    0.0
    0.0                    0.0                    0.0                    0.0
    4.27429e-6             4.27429e-6             4.27429e-6             4.27429e-6
    0.0                    0.0                    0.0                    0.0
    0.0                    0.0                    0.0                    0.0
    0.0                    0.0                    0.0                    0.0
  -6.974721793287342e-5   6.974721793287342e-5   6.974721793287342e-5  -6.974721793287342e-5
  -6.974721793287342e-5   6.974721793287342e-5  -6.974721793287342e-5   6.974721793287342e-5
  -0.00201607            -0.00201607             0.00201607             0.00201607];

%%

Q = eye(12);
R = eye(4);

[K,~,~] = lqr(A,B,Q,R);

writematrix(K,"K.txt")